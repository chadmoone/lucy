<h1>Available Diamonds</h1>

<script type="javascript">
    // $(function() {
    //    $("#diamond-table") .dataTable();
    // });
    
</script>

<table id="diamond-table">
  <tr>
    <th>ID</th>
    <th>Price</th>
    <th>Updated</th>
    <th>Carat</th>
    <th>Color</th>
    <th>Clarity</th>
    <th>Cut</th>
    <th>HCA</th>
    <th>AGA</th>
    <th>Ship time</th>
    <th></th>
    <th></th>
    <th></th>
  </tr>

<% @diamonds.each do |diamond| %>
  <tr>
    <td><%= diamond.bn_number %></td>
    <% if diamond.current_price %>
    <td><span><%= number_to_currency(diamond.current_price.price) %></span></td>
    <td><%= time_ago_in_words(diamond.current_price.created_at) %> ago</td>
    <% else %>
    <td>(null)</td>
    <td>(null)</td>
    <% end %></td>
    
    <td><%= diamond.carat_weight %></td>
    <td><%= diamond.color %></td>
    <td><%= diamond.clarity %></td>
    <td><%= diamond.cut_grade %></td>
    <td><%= diamond.hca_score %></td>
    <td><%= diamond.aga_naja_grade %></td>
    <td><%= diamond.ship_time %></td>
    <td><%= link_to 'Show', diamond %></td>
    <td><%= link_to 'Edit', edit_diamond_path(diamond) %></td>
    <td><%= link_to 'Destroy', diamond, method: :delete, data: { confirm: 'Are you sure?' } %></td>
  </tr>
<% end %>
</table>

<br />

<%= link_to 'New Diamond', new_diamond_path %>
